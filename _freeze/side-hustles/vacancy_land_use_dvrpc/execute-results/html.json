{
  "hash": "c9689468cd30dea53b68ac8ee8e1cd83",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"DVRPC Land Use - Sharswood\"\nsubtitle: \"URBS 4000: Urban Studies Thesis\"\nauthor: \"Jed Chew\"\ndate: today\nformat: \n  html:\n    code-fold: false\n    toc: true\n    toc-location: left\n    theme: cosmo\n    embed-resources: true\nexecute:\n  warning: false\n  message: false\neditor: \n  markdown: \n    wrap: 80\n---\n\n## Project Title: Mixed by Design\n\n### *A Case Study of the Philadelphia Housing Authority's (PHA) Choice Neighborhoods Redevelopment of Sharswood*\n\nFor my Urban Studies thesis, I am researching the PHA's Choice Neighborhoods\nredevelopment of the Sharswood neighborhood in North Philadelphia. I have two\nmain research questions about the process and outcome of this redevelopment:\n\n\\(1\\) the **process** by which the PHA aligned the politics, finance, and design\nfor the redevelopment of Sharswood; and \n\n\\(2\\) the early redevelopment **outcomes** relative to the Choice Neighborhoods\nInitiative (CNI) vision of mixed-partners, mixed-use, and mixed-income\n\n## Part 1: Land-Use Data from DVRPC\n\n**Land-Use Data from DVRPC**\n\n-   Data Source: <https://opendataphilly.org/datasets/land-use/>\n-   Date Downloaded: Nov 13, 2025\n-   Description: DVRPC’s land use files are based on digital orthophotography\n    created from aerial surveillance conducted in the spring of the land use\n    file year.\n    -   These land-use files are consistently updated every five years which is\n        more frequent than those from Philadelphia's Department of Planning and\n        Development.\n    -   However, because these land-use files are based on aerial surveillance,\n        they are less detailed and unable to distinguish between the types of\n        multifamily buildings or identify vacant buildings.\n-   Types of GeoJSON Files: Buildings, Land, and Points\n\n### Step 1: Load Philadelphia Census Tract and Block Group Data\n\n-   Philadelphia census tracts, block groups, and neighborhood boundaries\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load spatial data\ncensus_tracts <- tracts(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\", cb = TRUE, progress = FALSE)\nblock_grps <- block_groups(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\",cb = TRUE, progress = FALSE)\n\n# Filter Block Groups for Sharswood\nids <- c(\"421010138001\",\"421010138002\",\"421010139001\",\n         \"421010139002\",\"421010139003\")\n\nsharswood_bg_sf <- block_grps |>\n filter(GEOID %in% ids) |> \n  st_transform(2272) # PA State Plane (in US Survey Feet)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load Sharswood land parcels\nsharswood_land_parcels <- st_read(\"data/sharswood_parcels.geojson\")\nsharswood_zip <- 19121\n```\n:::\n\n\n--------------------------------------------------------------------------------\n\n### Step 2: Load DVRPC Land-Use Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Color Palette from PCPC\nlanduse_pal <- c(\n  \"Residential\"                         = \"#f5ff12\", # 245,255,18\n  \"Commercial\"                          = \"#e60000\", # 230,0,0\n  \"Mixed Commercial/Residential\"        = \"#e89579\", # 232,149,121\n  \"Industrial\"                          = \"#8c00ff\", # 140,0,255\n  \"Institutional\"                       = \"#0070ff\", # 0,112,255\n  \"Transportation\"                      = \"#cccccc\", # 204,204,204\n  \"Recreation\"                          = \"#9bccb3\", # 155,204,179  \n  \"Park/Open Space\"                     = \"#63cc00\", # 99,204,0\n  \"Water\"                               = \"#bfe8ff\", # 191,232,255\n  \"Undeveloped\"                         = \"#a87000\", # 168,112,0\n  \"Other/Unknown\"                       = \"#d2d2d2\"  # 210,210,210 \n)\n```\n:::\n\n\n### 2020 Land-Use Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load and Spatially Filter Data\nDVRPC_2020 <- st_read(\"data/Land_Use_2020.geojson\") |> \n  st_make_valid()\n\nsharswood_lu_2020 <- DVRPC_2020 |> \n  st_transform(st_crs(sharswood_bg_sf)) |> \n  st_crop(sharswood_bg_sf) |> \n  st_filter(sharswood_bg_sf, .predicate = st_within)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Column Headings\nsharswood_df_2020 <- sharswood_lu_2020 |> \n  st_drop_geometry()\nhead(sharswood_df_2020)\ncount(sharswood_df_2020, lu20catn)\ncount(sharswood_df_2020, lu20subn)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualization\nggplot(sharswood_lu_2020) +\n  geom_sf(aes(fill = lu20catn), color = NA) +\n  scale_fill_manual(values = landuse_pal, name = \"Land Use\") +\n  labs(title = \"2020 DVRPC Land Use in Sharswood\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](vacancy_land_use_dvrpc_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(sharswood_lu_2020) +\n  geom_sf(aes(fill = lu20subn), color = NA) +\n  labs(title = \"2020 DVRPC Detailed Land Use in Sharswood\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](vacancy_land_use_dvrpc_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n--------------------------------------------------------------------------------\n\n### 2015 Land-Use Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load and Spatially Filter Data\nDVRPC_2015 <- st_read(\"data/Land_Use_2015.geojson\") |> \n  st_make_valid()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `Land_Use_2015' from data source \n  `C:\\Users\\chewj\\Documents\\MUSA\\Github\\portfolio-setup-jedchewjm\\side-hustles\\data\\Land_Use_2015.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 2934 features and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -75.20409 ymin: 39.96713 xmax: -75.12549 ymax: 40.00042\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\nsharswood_lu_2015 <- DVRPC_2015 |> \n  st_transform(st_crs(sharswood_bg_sf)) |> \n  st_crop(sharswood_bg_sf) |> \n  st_filter(sharswood_bg_sf, .predicate = st_within)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Column Headings\nsharswood_df_2015 <- sharswood_lu_2015 |> \n  st_drop_geometry()\nhead(sharswood_df_2015)\ncount(sharswood_df_2015, lu15catn)\ncount(sharswood_df_2015, lu15subn)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualization\nggplot(sharswood_lu_2015) +\n  geom_sf(aes(fill = lu15catn), color = NA) +\n  scale_fill_manual(values = landuse_pal, name = \"Land Use\") +\n  labs(title = \"2015 DVRPC Land Use in Sharswood\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](vacancy_land_use_dvrpc_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n--------------------------------------------------------------------------------\n\n### 2023 Land-Use Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load and Spatially Filter Data\nDVRPC_2023 <- st_read(\"data/Land_Use_2023.geojson\") |> \n  st_make_valid()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `Land_Use_2023' from data source \n  `C:\\Users\\chewj\\Documents\\MUSA\\Github\\portfolio-setup-jedchewjm\\side-hustles\\data\\Land_Use_2023.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 2765 features and 14 fields\nGeometry type: POLYGON\nDimension:     XYZ\nBounding box:  xmin: -75.20436 ymin: 39.96714 xmax: -75.12549 ymax: 40.00042\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\nsharswood_lu_2023 <- DVRPC_2023 |> \n  st_transform(st_crs(sharswood_bg_sf)) |> \n  st_crop(sharswood_bg_sf) |> \n  st_filter(sharswood_bg_sf, .predicate = st_within)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Column Headings\nsharswood_df_2023 <- sharswood_lu_2023 |> \n  st_drop_geometry()\nhead(sharswood_df_2023)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  objectid lu23cat    lu23catn lu23sub                           lu23subn\n1     8319      01 Residential   01019 Parking - Residential: Multifamily\n2     8326      01 Residential   01019 Parking - Residential: Multifamily\n3    75499      01 Residential   01010           Residential: Multifamily\n4    75546      01 Residential   01010           Residential: Multifamily\n5    79937      01 Residential   01010           Residential: Multifamily\n6    79955      01 Residential   01010           Residential: Multifamily\n      lu23dev mixeduse   state_name      co_name    mun_name      geoid\n1 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n2 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n3 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n4 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n5 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n6 Residential        N Pennsylvania Philadelphia Lower North 4210160107\n       acres Shape__Area Shape__Length\n1 0.07067450    286.0095      68.11033\n2 0.09478613    383.5858      78.35352\n3 0.24071734    974.1485     139.64095\n4 0.03113710    126.0074      55.81657\n5 0.60220235   2437.0265     219.75744\n6 0.76649703   3101.9034     260.48424\n```\n\n\n:::\n\n```{.r .cell-code}\ncount(sharswood_df_2023, lu23catn)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       lu23catn   n\n1   Agriculture   1\n2    Commercial  18\n3    Industrial   2\n4 Institutional  31\n5    Recreation   4\n6   Residential 109\n7   Undeveloped  29\n```\n\n\n:::\n\n```{.r .cell-code}\ncount(sharswood_df_2023, lu23subn)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                             lu23subn   n\n1                         Agriculture   1\n2                 Commercial: General   7\n3               Commercial: Mixed-Use   8\n4                 Industrial: General   2\n5            Institutional: Education   5\n6              Institutional: General   5\n7              Institutional: Medical   1\n8            Institutional: Religious   8\n9       Parking - Commercial: General   2\n10    Parking - Commercial: Mixed-Use   1\n11 Parking - Institutional: Education   9\n12   Parking - Institutional: Medical   2\n13 Parking - Institutional: Religious   1\n14      Parking - Recreation: General   1\n15 Parking - Residential: Multifamily   7\n16                Recreation: General   3\n17           Residential: Multifamily 102\n18               Undeveloped: General  22\n19     Undeveloped: Transitional Land   7\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualization\nggplot(sharswood_lu_2023) +\n  geom_sf(aes(fill = lu23catn), color = NA) +\n  scale_fill_manual(values = landuse_pal, name = \"Land Use\") +\n  labs(title = \"2023 DVRPC Land Use in Sharswood\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](vacancy_land_use_dvrpc_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(sharswood_lu_2023) +\n  geom_sf(aes(fill = lu23subn), color = NA) +\n  labs(title = \"2023 DVRPC Detailed Land Use in Sharswood\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](vacancy_land_use_dvrpc_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n",
    "supporting": [
      "vacancy_land_use_dvrpc_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}