{
  "hash": "202acd1f4881fe67a30878639623a36e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assignment 2: Spatial Analysis and Visualization\"\nsubtitle: \"Healthcare Access and Equity in Pennsylvania\"\nauthor: \"Jed Chew\"\ndate: today\nformat: \n  html:\n    code-fold: false\n    toc: true\n    toc-location: left\n    theme: cosmo\n    embed-resources: true\nexecute:\n  warning: false\n  message: false\neditor: \n  markdown: \n    wrap: 80\n---\n\n## Assignment Overview\n\n**Learning Objectives:**\n\n-   Apply spatial operations to answer policy-relevant research questions\n\n-   Integrate census demographic data with spatial analysis\n\n-   Create publication-quality visualizations and maps\n\n-   Work with spatial data from multiple sources\n\n-   Communicate findings effectively for policy audiences\n\n--------------------------------------------------------------------------------\n\n## Part 1: Healthcare Access for Vulnerable Populations\n\n### Research Question\n\n**Which Pennsylvania counties have the highest proportion of vulnerable\npopulations (elderly + low-income) living far from hospitals?**\n\nYour analysis should identify counties that should be priorities for healthcare\ninvestment and policy intervention.\n\n### Required Analysis Steps\n\nComplete the following analysis, documenting each step with code and brief\nexplanations:\n\n#### Step 1: Data Collection (5 points)\n\nLoad the required spatial data:\n\n-   Pennsylvania county boundaries (from lecture data)\n\n-   Pennsylvania hospitals (from lecture data)\n\n-   Pennsylvania census tracts\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required packages\nlibrary(tidyverse)\nlibrary(tidycensus)\n\n# Load spatial data\n\n\n\n\n# Check that all data loaded correctly\n```\n:::\n\n\n**Questions to answer:**\n\n-   How many hospitals are in your dataset?\n\n-   How many census tracts?\n\n-   What coordinate reference system is each dataset in?\n\n--------------------------------------------------------------------------------\n\n#### Step 2: Get Demographic Data\n\nUse `tidycensus` to download tract-level demographic data for Pennsylvania.\n\n**Required variables:** - Total population - Median household income -\nPopulation 65 years and over (you may need to sum multiple age categories)\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get demographic data from ACS\n\n\n\n\n# Join to tract boundaries\n```\n:::\n\n\n**Questions to answer:**\n\n-   What year of ACS data are you using?\n\n-   How many tracts have missing income data?\n\n-   What is the median income across all PA census tracts?\n\n--------------------------------------------------------------------------------\n\n#### Step 3: Define Vulnerable Populations\n\nIdentify census tracts with vulnerable populations based on TWO criteria: 1. Low\nmedian household income (choose an appropriate threshold) 2. Significant elderly\npopulation (choose an appropriate threshold)\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter for vulnerable tracts based on your criteria\n```\n:::\n\n\n**Questions to answer:**\n\n-   What income threshold did you choose and why?\n\n-   What elderly population threshold did you choose and why?\n\n-   How many tracts meet your vulnerability criteria?\n\n-   What percentage of PA census tracts are considered vulnerable by your\n    definition?\n\n--------------------------------------------------------------------------------\n\n#### Step 4: Calculate Distance to Hospitals\n\nFor each vulnerable tract, calculate the distance to the nearest hospital.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Transform to appropriate projected CRS\n\n\n# Calculate distance from each tract centroid to nearest hospital\n```\n:::\n\n\n**Requirements:** - Use an appropriate projected coordinate system for\nPennsylvania - Calculate distances in miles - Explain why you chose your\nprojection\n\n**Questions to answer:**\n\n-   What is the average distance to the nearest hospital for vulnerable tracts?\n\n-   What is the maximum distance?\n\n-   How many vulnerable tracts are more than 15 miles from the nearest hospital?\n\n--------------------------------------------------------------------------------\n\n#### Step 5: Identify Underserved Areas\n\nDefine \"underserved\" as vulnerable tracts that are more than 15 miles from the\nnearest hospital.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create underserved variable\n```\n:::\n\n\n**Questions to answer:** - How many tracts are underserved? - What percentage of\nvulnerable tracts are underserved? - Does this surprise you? Why or why not?\n\n--------------------------------------------------------------------------------\n\n#### Step 6: Aggregate to County Level\n\nUse spatial joins and aggregation to calculate county-level statistics about\nvulnerable populations and hospital access.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Spatial join tracts to counties\n\n\n# Aggregate statistics by county\n```\n:::\n\n\n**Required county-level statistics:** - Number of vulnerable tracts - Number of\nunderserved tracts\\\n- Percentage of vulnerable tracts that are underserved - Average distance to\nnearest hospital for vulnerable tracts - Total vulnerable population\n\n**Questions to answer:**\n\n-   Which 5 counties have the highest percentage of underserved vulnerable\n    tracts?\n\n-   Which counties have the most vulnerable people living far from hospitals?\n\n-   Are there any patterns in where underserved counties are located?\n\n--------------------------------------------------------------------------------\n\n#### Step 7: Create Summary Table\n\nCreate a professional table showing the top 10 priority counties for healthcare\ninvestment.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create and format priority counties table\n```\n:::\n\n\n**Requirements:** - Use `knitr::kable()` or similar for formatting - Include\ndescriptive column names - Format numbers appropriately (commas for population,\npercentages, etc.) - Add an informative caption - Sort by priority (you decide\nthe metric)\n\n--------------------------------------------------------------------------------\n\n## Part 2: Comprehensive Visualization\n\nUsing the skills from Week 3 (Data Visualization), create publication-quality\nmaps and charts.\n\n### Map 1: County-Level Choropleth\n\nCreate a choropleth map showing healthcare access challenges at the county\nlevel.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create county-level access map\n```\n:::\n\n\n**Requirements:** - Fill counties by percentage of vulnerable tracts that are\nunderserved - Include hospital locations as points - Use an appropriate color\nscheme - Include clear title, subtitle, and caption - Use `theme_void()` or\nsimilar clean theme - Add a legend with formatted labels\n\n--------------------------------------------------------------------------------\n\n### Map 2: Detailed Vulnerability Map\n\nCreate a map highlighting underserved vulnerable tracts.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create detailed tract-level map\n```\n:::\n\n\n**Requirements:** - Show underserved vulnerable tracts in a contrasting color -\nInclude county boundaries for context - Show hospital locations - Use\nappropriate visual hierarchy (what should stand out?) - Include informative\ntitle and subtitle\n\n--------------------------------------------------------------------------------\n\n### Chart: Distribution Analysis\n\nCreate a visualization showing the distribution of distances to hospitals for\nvulnerable populations.\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create distribution visualization\n```\n:::\n\n\n**Suggested chart types:** - Histogram or density plot of distances - Box plot\ncomparing distances across regions - Bar chart of underserved tracts by county -\nScatter plot of distance vs. vulnerable population size\n\n**Requirements:** - Clear axes labels with units - Appropriate title -\nProfessional formatting - Brief interpretation (1-2 sentences as a caption or in\ntext)\n\n--------------------------------------------------------------------------------\n\n## Part 3: Bring Your Own Data Analysis\n\nChoose your own additional spatial dataset and conduct a supplementary analysis.\n\n### Challenge Options\n\nChoose ONE of the following challenge exercises, or propose your own research\nquestion using OpenDataPhilly data (https://opendataphilly.org/datasets/).\n\n**Note these are just loose suggestions to spark ideas - follow or make your own\nas the data permits and as your ideas evolve. This analysis should include\nbringing in your own dataset, ensuring the projection/CRS of your layers align\nand are appropriate for the analysis (not lat/long or geodetic coordinate\nsystems). The analysis portion should include some combination of spatial and\nattribute operations to answer a relatively straightforward question**\n\n--------------------------------------------------------------------------------\n\n#### Education & Youth Services\n\n**Option A: Educational Desert Analysis**\n\n-   **Data:** Schools, Libraries, Recreation Centers, Census tracts (child\n    population)\n\n-   **Question:** \"Which neighborhoods lack adequate educational infrastructure\n    for children?\"\n\n-   **Operations:** Buffer schools/libraries (0.5 mile walking distance),\n    identify coverage gaps, overlay with child population density\n\n-   **Policy relevance:** School district planning, library placement,\n    after-school program siting\n\n**Option B: School Safety Zones**\n\n-   **Data:** Schools, Crime Incidents, Bike Network\n\n-   **Question:** \"Are school zones safe for walking/biking, or are they crime\n    hotspots?\"\n\n-   **Operations:** Buffer schools (1000ft safety zone), spatial join with crime\n    incidents, assess bike infrastructure coverage\n\n-   **Policy relevance:** Safe Routes to School programs, crossing guard\n    placement\n\n--------------------------------------------------------------------------------\n\n#### Environmental Justice\n\n**Option C: Green Space Equity**\n\n-   **Data:** Parks, Street Trees, Census tracts (race/income demographics)\n\n<!-- -->\n\n-   **Question:** \"Do low-income and minority neighborhoods have equitable\n    access to green space?\"\n\n-   **Operations:** Buffer parks (10-minute walk = 0.5 mile), calculate tree\n    canopy or park acreage per capita, compare by demographics\n\n-   **Policy relevance:** Climate resilience, environmental justice, urban\n    forestry investment ---\n\n#### Public Safety & Justice\n\n**Option D: Crime & Community Resources**\n\n-   **Data:** Crime Incidents, Recreation Centers, Libraries, Street Lights\n\n-   **Question:** \"Are high-crime areas underserved by community resources?\"\n\n-   **Operations:** Aggregate crime counts to census tracts or neighborhoods,\n    count community resources per area, spatial correlation analysis\n\n-   **Policy relevance:** Community investment, violence prevention strategies\n    ---\n\n#### Infrastructure & Services\n\n**Option E: Polling Place Accessibility**\n\n-   **Data:** Polling Places, SEPTA stops, Census tracts (elderly population,\n    disability rates)\n\n-   **Question:** \"Are polling places accessible for elderly and disabled\n    voters?\"\n\n-   **Operations:** Buffer polling places and transit stops, identify vulnerable\n    populations, find areas lacking access\n\n-   **Policy relevance:** Voting rights, election infrastructure, ADA compliance\n\n--------------------------------------------------------------------------------\n\n#### Health & Wellness\n\n**Option F: Recreation & Population Health**\n\n-   **Data:** Recreation Centers, Playgrounds, Parks, Census tracts\n    (demographics)\n\n-   **Question:** \"Is lack of recreation access associated with vulnerable\n    populations?\"\n\n-   **Operations:** Calculate recreation facilities per capita by neighborhood,\n    buffer facilities for walking access, overlay with demographic indicators\n\n-   **Policy relevance:** Public health investment, recreation programming,\n    obesity prevention\n\n--------------------------------------------------------------------------------\n\n#### Emergency Services\n\n**Option G: EMS Response Coverage**\n\n-   **Data:** Fire Stations, EMS stations, Population density, High-rise\n    buildings\n\n-   **Question:** \"Are population-dense areas adequately covered by emergency\n    services?\"\n\n-   **Operations:** Create service area buffers (5-minute drive = \\~2 miles),\n    assess population coverage, identify gaps in high-density areas\n\n-   **Policy relevance:** Emergency preparedness, station siting decisions\n\n--------------------------------------------------------------------------------\n\n#### Arts & Culture\n\n**Option H: Cultural Asset Distribution**\n\n-   **Data:** Public Art, Museums, Historic sites/markers, Neighborhoods\n\n-   **Question:** \"Do all neighborhoods have equitable access to cultural\n    amenities?\"\n\n-   **Operations:** Count cultural assets per neighborhood, normalize by\n    population, compare distribution across demographic groups\n\n-   **Policy relevance:** Cultural equity, tourism, quality of life,\n    neighborhood identity\n\n--------------------------------------------------------------------------------\n\n### Data Sources\n\n**OpenDataPhilly:** https://opendataphilly.org/datasets/ - Most datasets\navailable as GeoJSON, Shapefile, or CSV with coordinates - Always check the\nMetadata for a data dictionary of the fields.\n\n**Additional Sources:**\n\n-   **Pennsylvania Open Data:** https://data.pa.gov/\n\n-   **Census Bureau (via tidycensus):** Demographics, economic indicators,\n    commute patterns\n\n-   **TIGER/Line (via tigris):** Geographic boundaries\n\n### Recommended Starting Points\n\n**If you're feeling confident:** Choose an advanced challenge with multiple data\nlayers. **If you are a beginner, choose something more manageable that helps you\nunderstand the basics**\n\n**If you have a different idea:** Propose your own question! Just make sure: -\nYou can access the spatial data - You can perform at least 2 spatial operations\n\n### Your Analysis\n\n**My Chosen Question: Food Deserts**\n\n-   Data:\n    <https://phl.maps.arcgis.com/apps/MapSeries/index.html?appid=ab8597d96ece43be97e718f919e79194>\n\n-   Data: <https://opendataphilly.org/datasets/neighborhood-food-retail/>\n\n-   Data: Dataaxle\n\n**Your Task:**\n\n1.  **Find and load additional data**\n    -   Document your data source\n    -   Check and standardize the CRS\n    -   Provide basic summary statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load your additional dataset\n```\n:::\n\n\n**Questions to answer:**\n\n-   What dataset did you choose and why?\n\n-   What is the data source and date?\n\n-   How many features does it contain?\n\n-   What CRS is it in? Did you need to transform it?\n\n--------------------------------------------------------------------------------\n\n2.  **Pose a research question**\n\nWrite a clear research statement that your analysis will answer.\n\n**Examples:** - \"Do vulnerable tracts have adequate public transit access to\nhospitals?\" - \"Are EMS stations appropriately located near vulnerable\npopulations?\" - \"Do areas with low vehicle access have worse hospital access?\"\n\n--------------------------------------------------------------------------------\n\n3.  **Conduct spatial analysis**\n\nUse at least TWO spatial operations to answer your research question.\n\n**Required operations (choose 2+):**\n\n-   Buffers / Intersections / Unions / Distance Calculations\n\n-   Spatial joins\n\n-   Spatial filtering with predicates\n\n-   Point-in-polygon aggregation\n\n**Your Task:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Your spatial analysis\n```\n:::\n\n\n**Analysis requirements:**\n\n-   Clear code comments explaining each step\n\n-   Appropriate CRS transformations\n\n-   Summary statistics or counts\n\n-   At least one map showing your findings\n\n-   Brief interpretation of results (3-5 sentences)\n\n**Your interpretation:**\n\n*\\[Write your findings here\\]*\n\n## Finally - A few comments about your incorporation of feedback!\n\nTake a few moments to clean up your markdown document and then write a line or\ntwo or three about how you may have incorporated feedback that you recieved\nafter your first assignment.\n\n*\\[Incorporation of Feedback\\]*\n\n--------------------------------------------------------------------------------\n\n## Submission Requirements\n\n**What to submit:**\n\n1.  **Rendered HTML document posted to your course portfolio** with all code,\n    outputs, maps, and text\n    -   Use `embed-resources: true` in YAML so it's a single file\n    -   All code should run without errors\n    -   All maps and charts should display correctly\n\n**File naming:** `LastName_FirstName_Assignment2.html` and\n`LastName_FirstName_Assignment2.qmd`\n\n--------------------------------------------------------------------------------\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}