{
  "hash": "094bc6e42bbd5086d42d49b7f1e25bdc",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Axle - Businesses in Sharswood\"\nsubtitle: \"URBS 4000: Urban Studies Thesis\"\nauthor: \"Jed Chew\"\ndate: \"October 2025\"\nformat: \n  html:\n    code-fold: false\n    toc: true\n    toc-location: left\n    theme: cosmo\n    embed-resources: true\nexecute:\n  warning: false\n  message: false\neditor: \n  markdown: \n    wrap: 80\n---\n\n## Project Title: Mixed by Design – A Case Study of the Philadelphia Housing Authority's (PHA) Choice Neighborhoods Redevelopment of Sharswood\n\nFor my Urban Studies thesis, I am researching the PHA's Choice Neighborhoods\nredevelopment of the Sharswood neighborhood in North Philadelphia. I have two\nmain research questions about the process and outcome of this redevelopment:\n\n\\(1\\) the **process** by which the PHA aligned the politics, finance, and design\nfor the redevelopment of Sharswood; and \n\n\\(2\\) the early redevelopment **outcomes** relative to the Choice Neighborhoods\nInitiative (CNI) vision of mixed-partners, mixed-use, and mixed-income\n\n## Part 1: Raw Data from Data Axle\n\n**Data Axle Reference Solutions** (formerly ReferenceUSA and Infogroup) is a big\ndata, analytics, and marketing services provider that delivers best in class\ndata-driven, customer-centric technology solutions. It offers two main types of\ndata:\n\n-   **Residential Historic Data:** Analyze community growth and general\n    population differences.\n\n-   **Historic Business Data:** Analyze market trends, economic growth, or\n    specific industries. Access categories including Company Name, Geocodes,\n    SIC/NAICS codes, Census Tracts.\n\nI retrieved my raw data files from Data Axle through Penn Libraries and Wharton\nResearch and Data Services (WRDS) on October 15, 2025. The interface of Data\nAxle is shown below.\n\n![](images/clipboard-3282527950.png)\n\n### Record Types\n\n-   **Verified Records:** have been verified by DataAxle staff through various\n    compilation processes including phone validation\n\n-   **Unverified Records:** separate database from verified records because of\n    one of the following three reasons:\n\n    -   records appear within data sources but have yet to be fully verified\n\n    -   partial information is contained in the record, but not all data\n        elements are present to be considered 'verified' at the point of data\n        retrieval\n\n    -   addresses are unverified (e.g. a business may have moved)\n\n#### Step 1: Load Raw Data as csv files\n\n-   DataAxle's U.S. Businesses Data Dictionary\n\n-   Verified Businesses in Sharswood Neighborhood\n\n-   Unverified Businesses in Sharswood Neighborhood\n\n-   Philadelphia census tracts and neighborhood boundaries\n\n**Your Task:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load Data Axle Data\ndatadict <- read_csv(\"data/Data_Dict.csv\")\nhead(datadict)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  `Field Name`         `Field Description`                  \n  <chr>                <chr>                                \n1 Company Name         Name of Company or Professional Name \n2 Executive First Name First Name of Contact                \n3 Executive Last Name  Last Name of Contact                 \n4 Address              Location address of the company      \n5 City                 Location city address of the company \n6 State                Location state address of the company\n```\n\n\n:::\n\n```{.r .cell-code}\nverified <- read_csv(\"data/Sharswood_Verified_Biz.csv\")\nverified\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 35 × 18\n   `Company Name`           `Legal Name` Address Latitude Longitude Neighborhood\n   <chr>                    <chr>        <chr>   <chr>        <dbl> <chr>       \n 1 ATM                      <NA>         2101 S… 039.972…     -75.2 Sharswood   \n 2 ATM                      <NA>         2438 W… 039.975…     -75.2 Sharswood   \n 3 Big Picture Philadelphia <NA>         2300 W… 039.976…     -75.2 Sharswood   \n 4 Brothers Corner          BROTHER GRO… 2012 R… 039.975…     -75.2 Sharswood   \n 5 Citizens For Kenneth Wa… <NA>         2101 S… 039.972…     -75.2 Sharswood   \n 6 College Girard           <NA>         2101 N… 039.975…     -75.2 Sharswood   \n 7 El Tlaloc                <NA>         2108 R… 039.978…     -75.2 Sharswood   \n 8 Georgiegs Truck          <NA>         1261 N… 039.974…     -75.2 Sharswood   \n 9 Girard College Devmnt F… <NA>         2101 S… 039.973…     -75.2 Sharswood   \n10 Girard College Foundati… GIRARD COLL… 2101 S… 039.973…     -75.2 Sharswood   \n# ℹ 25 more rows\n# ℹ 12 more variables: `Census Block Group` <dbl>, `ZIP Code` <dbl>,\n#   `Company Description` <chr>, `Primary SIC Code` <chr>,\n#   `Primary SIC Description` <chr>, `Primary NAICS` <dbl>,\n#   `Primary NAICS Description` <chr>, `Years In Database` <dbl>,\n#   `Location Type` <chr>, `Location Employee Size Range` <chr>,\n#   `Square Footage` <chr>, `Record Type` <chr>\n```\n\n\n:::\n\n```{.r .cell-code}\nunverified1 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 250 × 18\n   `Company Name`     Address `ZIP Code` `Legal Name` `Record Type` Neighborhood\n   <chr>              <chr>        <dbl> <chr>        <chr>         <chr>       \n 1 100 Black Men Of … 2300 W…      19121 <NA>         Unverified    Sharswood   \n 2 1220 Lindley Aven… 2101 N…      19121 1220 LINDLE… Unverified    Sharswood   \n 3 1496 Bushwick LLC  2101 N…      19121 1496 BUSHWI… Unverified    Sharswood   \n 4 1518 Loudon LLC    2026 R…      19121 1518 LOUDON… Unverified    Sharswood   \n 5 1530 Ridge LLC     2026 R…      19121 1530 RIDGE … Unverified    Sharswood   \n 6 16th Associates L… 2101 N…      19121 16TH ASSOCI… Unverified    Sharswood   \n 7 1985 LLC           2026 R…      19121 1985 LLC     Unverified    Sharswood   \n 8 2048 St Inc        2048 R…      19121 2048 ST INC  Unverified    Sharswood   \n 9 2111 Seybert LLC   2111 W…      19121 2111 SEYBER… Unverified    Sharswood   \n10 2245 W Thompson S… 2245 W…      19121 2245 W THOM… Unverified    Sharswood   \n# ℹ 240 more rows\n# ℹ 12 more variables: `Census Block Group` <dbl>, `Company Description` <lgl>,\n#   `Primary SIC Code` <chr>, `Primary SIC Description` <chr>,\n#   `Primary NAICS` <dbl>, `Primary NAICS Description` <chr>,\n#   `Location Employee Size Range` <chr>, `Location Type` <chr>,\n#   `Years In Database` <dbl>, `Square Footage` <chr>, Latitude <chr>,\n#   Longitude <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\nunverified2 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 250 × 18\n   `Company Name`     Address `ZIP Code` `Legal Name` `Record Type` Neighborhood\n   <chr>              <chr>        <dbl> <chr>        <chr>         <chr>       \n 1 100 Black Men Of … 2300 W…      19121 <NA>         Unverified    Sharswood   \n 2 1220 Lindley Aven… 2101 N…      19121 1220 LINDLE… Unverified    Sharswood   \n 3 1496 Bushwick LLC  2101 N…      19121 1496 BUSHWI… Unverified    Sharswood   \n 4 1518 Loudon LLC    2026 R…      19121 1518 LOUDON… Unverified    Sharswood   \n 5 1530 Ridge LLC     2026 R…      19121 1530 RIDGE … Unverified    Sharswood   \n 6 16th Associates L… 2101 N…      19121 16TH ASSOCI… Unverified    Sharswood   \n 7 1985 LLC           2026 R…      19121 1985 LLC     Unverified    Sharswood   \n 8 2048 St Inc        2048 R…      19121 2048 ST INC  Unverified    Sharswood   \n 9 2111 Seybert LLC   2111 W…      19121 2111 SEYBER… Unverified    Sharswood   \n10 2245 W Thompson S… 2245 W…      19121 2245 W THOM… Unverified    Sharswood   \n# ℹ 240 more rows\n# ℹ 12 more variables: `Census Block Group` <dbl>, `Company Description` <lgl>,\n#   `Primary SIC Code` <chr>, `Primary SIC Description` <chr>,\n#   `Primary NAICS` <dbl>, `Primary NAICS Description` <chr>,\n#   `Location Employee Size Range` <chr>, `Location Type` <chr>,\n#   `Years In Database` <dbl>, `Square Footage` <chr>, Latitude <chr>,\n#   Longitude <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\nunverified_combined <- bind_rows(unverified1, unverified2)\nglimpse(unverified_combined)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 500\nColumns: 18\n$ `Company Name`                 <chr> \"100 Black Men Of Philadelphia\", \"1220 …\n$ Address                        <chr> \"2300 W Master St # 1\", \"2101 N College…\n$ `ZIP Code`                     <dbl> 19121, 19121, 19121, 19121, 19121, 1912…\n$ `Legal Name`                   <chr> NA, \"1220 LINDLEY AVENUE ASSOC LLC\", \"1…\n$ `Record Type`                  <chr> \"Unverified\", \"Unverified\", \"Unverified…\n$ Neighborhood                   <chr> \"Sharswood\", \"Sharswood\", \"Sharswood\", …\n$ `Census Block Group`           <dbl> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, …\n$ `Company Description`          <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ `Primary SIC Code`             <chr> \"999977\", \"999977\", \"999977\", \"653118\",…\n$ `Primary SIC Description`      <chr> \"Nonclassified Establishments\", \"Noncla…\n$ `Primary NAICS`                <dbl> 99999004, 99999004, 99999004, 53121003,…\n$ `Primary NAICS Description`    <chr> \"Unclassified Establishments\", \"Unclass…\n$ `Location Employee Size Range` <chr> NA, NA, NA, \"1 to 4\", NA, NA, NA, \"5 to…\n$ `Location Type`                <chr> \"Single Loc\", \"Single Loc\", \"Single Loc…\n$ `Years In Database`            <dbl> 2, 4, 4, 12, 4, 4, 4, 4, 4, 2, 3, 2, 4,…\n$ `Square Footage`               <chr> NA, NA, NA, \"2,500 - 4,999\", NA, NA, NA…\n$ Latitude                       <chr> \"039.976239\", \"039.975227\", \"039.975227…\n$ Longitude                      <dbl> -75.17422, -75.17121, -75.17121, -75.16…\n```\n\n\n:::\n\n```{.r .cell-code}\nwrite_csv(unverified_combined, \"data/Sharswood_Unverified_Biz_Combined.csv\")\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load spatial data\ncensus_tracts <- tracts(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\", cb = TRUE, progress = FALSE)\nblock_grps <- block_groups(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\",cb = TRUE, progress = FALSE)\n\n# Standardize CRS\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Check that all data loaded correctly\nggplot(census_tracts) +\n  geom_sf() +\n  labs(title = \"Philadelphia Census Tracts\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](dataaxle_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(block_grps) +\n  geom_sf() +\n  labs(title = \"Philadelphia Block Groups\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](dataaxle_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\n--------------------------------------------------------------------------------\n\n#### Step 2: Get Philadelphia Demographic Data using `tidycensus`\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load all available variables for ACS 5-year 2022\nacs_vars_2022 <- load_variables(2022, \"acs5\", cache = TRUE)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Helper Variables for Summing Population Values for Children aged 5-19\nchild_pop = c(\"B01001_004\", \"B01001_005\", \"B01001_006\", \"B01001_007\", \n                \"B01001_028\", \"B01001_029\", \"B01001_030\", \"B01001_031\")\n\n\n# Helper Variable for Summing Population Values for Elderly Population\nelderly_pop = c(\"B01001_020\", \"B01001_021\", \"B01001_022\", \"B01001_023\", \n                \"B01001_024\", \"B01001_025\", \n                \"B01001_044\", \"B01001_045\", \"B01001_046\", \n                \"B01001_047\", \"B01001_048\", \"B01001_049\")\n\n# Get tract-level demographic data from 2022 ACS 5-Yr Estimates for Philadelphia\nphl_tract_data <- get_acs(\n  geography = \"tract\",\n  variables = c(\n    total_pop = \"B01003_001\",\n    child_pop = child_pop,\n    elderly_pop = elderly_pop,\n    median_income = \"B19013_001\",\n    poverty = \"B17001_001\",\n    White     = \"B03002_003\",\n    Black     = \"B03002_004\",\n    Hispanic  = \"B03002_012\"\n  ),\n  state = \"PA\",\n  county = \"Philadelphia\",\n  year = 2022,\n  survey = \"acs5\",\n  output = \"wide\",\n  geometry = TRUE\n)\n\n# Clean the county names to remove state name and \"County\" \nphl_tract_clean <- phl_tract_data |> \n  separate(\n    NAME, \n    into = c(\"tract_name\", \"county_name\", \"state_name\"), \n    sep = \"; \"\n  ) |> \n  mutate(\n    tract_name = str_remove(tract_name, \"Census Tract \"),\n    county_name = str_remove(county_name, \" County\")\n  )\n\nphl_tract_summary <- phl_tract_clean |>\n  mutate(\n    elderly_popE = rowSums(across(matches(\"^elderly_pop\\\\d+E$\")), na.rm = TRUE),\n    # for MOE, ACS guidance is to combine by quadrature\n    elderly_popM = sqrt(rowSums(across(matches(\"^elderly_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_elderly = elderly_popE / total_popE,\n    child_popE = rowSums(across(matches(\"^child_pop\\\\d+E$\")), na.rm = TRUE),\n    child_popM = sqrt(rowSums(across(matches(\"^child_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_child = round((child_popE/total_popE) * 100, 2),\n  ) |>\n  select(GEOID, tract_name, county_name, total_popE, median_incomeE, elderly_popE, \n         elderly_popM, pct_elderly, child_popE, child_popM, pct_child)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(phl_tract_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 6 features and 11 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -75.24686 ymin: 39.91545 xmax: -75.15233 ymax: 39.94983\nGeodetic CRS:  NAD83\n        GEOID tract_name  county_name total_popE median_incomeE elderly_popE\n1 42101001500         15 Philadelphia       3251         110859          263\n2 42101001800         18 Philadelphia       3300         114063          305\n3 42101002802      28.02 Philadelphia       5720          78871          836\n4 42101004001      40.01 Philadelphia       4029          61583          521\n5 42101006300         63 Philadelphia       4415          32347          294\n6 42101007700         77 Philadelphia       1815          48581          130\n  elderly_popM pct_elderly child_popE child_popM pct_child\n1     78.60662  0.08089819        478   172.0785     14.70\n2    115.89219  0.09242424        271   102.5378      8.21\n3    307.10910  0.14615385        408   160.7420      7.13\n4    143.52700  0.12931248        420   176.4171     10.42\n5    109.42120  0.06659117        948   289.8327     21.47\n6     66.83562  0.07162534        519   123.4220     28.60\n                        geometry\n1 MULTIPOLYGON (((-75.16558 3...\n2 MULTIPOLYGON (((-75.1662 39...\n3 MULTIPOLYGON (((-75.16735 3...\n4 MULTIPOLYGON (((-75.17002 3...\n5 MULTIPOLYGON (((-75.24686 3...\n6 MULTIPOLYGON (((-75.21292 3...\n```\n\n\n:::\n:::\n\n\n--------------------------------------------------------------------------------\n\n#### Step 3: Define Vulnerable Populations\n\n--------------------------------------------------------------------------------\n\n#### Step 4: Calculate Distance to Hospitals\n\n--------------------------------------------------------------------------------\n\n#### Step 5: Identify Underserved Areas\n\n--------------------------------------------------------------------------------\n\n#### Step 6: Create Summary Table\n\n--------------------------------------------------------------------------------\n\n## Part 2: Comprehensive Visualization\n\n\n::: {.cell}\n\n:::\n\n\n--------------------------------------------------------------------------------\n\n## Part 3: Open Data Philly\n\nChoose your own additional spatial dataset and conduct a supplementary analysis.\n\n**My Chosen Question: School Access and School Choice in City of Philadelphia**\n\n-   **Data**: Schools, Census Tracts (race/income demographics)\n    -   School Parcels: <https://opendataphilly.org/datasets/schools-parcels/> –\n        parcel location of schools in the City of Philadelphia with attribute\n        information for address, grade level, type, and status\n    -   Schools: <https://opendataphilly.org/datasets/schools/> – points\n        identifying public schools, charter schools, many private schools,\n        school annexes, and athletic fields and facilities\n-   **Question:** \"Is lack of school access associated with vulnerable\n    populations?\"\n-   **Operations:**\n    -   Clean datasets\n    -   Distance to nearest school\n    -   Buffer schools (10-minute walk = 0.5 mile)\n    -   Compare types and enrollment of schools by demographics\n",
    "supporting": [
      "dataaxle_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}