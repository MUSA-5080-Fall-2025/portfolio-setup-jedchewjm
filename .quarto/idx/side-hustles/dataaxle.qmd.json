{"title":"Data Axle - Businesses in Sharswood","markdown":{"yaml":{"title":"Data Axle - Businesses in Sharswood","subtitle":"URBS 4000: Urban Studies Thesis","author":"Jed Chew","date":"October 2025","format":{"html":{"code-fold":false,"toc":true,"toc-location":"left","theme":"cosmo","embed-resources":true}},"execute":{"warning":false,"message":false},"editor":{"markdown":{"wrap":80}}},"headingText":"Project Title: Mixed by Design – A Case Study of the Philadelphia Housing Authority's (PHA) Choice Neighborhoods Redevelopment of Sharswood","containsRefs":false,"markdown":"\n\n\nFor my Urban Studies thesis, I am researching the PHA's Choice Neighborhoods\nredevelopment of the Sharswood neighborhood in North Philadelphia. I have two\nmain research questions about the process and outcome of this redevelopment:\n\n\\(1\\) the **process** by which the PHA aligned the politics, finance, and design\nfor the redevelopment of Sharswood; and \n\n\\(2\\) the early redevelopment **outcomes** relative to the Choice Neighborhoods\nInitiative (CNI) vision of mixed-partners, mixed-use, and mixed-income\n\n## Part 1: Raw Data from Data Axle\n\n**Data Axle Reference Solutions** (formerly ReferenceUSA and Infogroup) is a big\ndata, analytics, and marketing services provider that delivers best in class\ndata-driven, customer-centric technology solutions. It offers two main types of\ndata:\n\n-   **Residential Historic Data:** Analyze community growth and general\n    population differences.\n\n-   **Historic Business Data:** Analyze market trends, economic growth, or\n    specific industries. Access categories including Company Name, Geocodes,\n    SIC/NAICS codes, Census Tracts.\n\nI retrieved my raw data files from Data Axle through Penn Libraries and Wharton\nResearch and Data Services (WRDS) on October 15, 2025. The interface of Data\nAxle is shown below.\n\n![](images/clipboard-3282527950.png)\n\n### Record Types\n\n-   **Verified Records:** have been verified by DataAxle staff through various\n    compilation processes including phone validation\n\n-   **Unverified Records:** separate database from verified records because of\n    one of the following three reasons:\n\n    -   records appear within data sources but have yet to be fully verified\n\n    -   partial information is contained in the record, but not all data\n        elements are present to be considered 'verified' at the point of data\n        retrieval\n\n    -   addresses are unverified (e.g. a business may have moved)\n\n#### Step 1: Load Raw Data as csv files\n\n-   DataAxle's U.S. Businesses Data Dictionary\n\n-   Verified Businesses in Sharswood Neighborhood\n\n-   Unverified Businesses in Sharswood Neighborhood\n\n-   Philadelphia census tracts and neighborhood boundaries\n\n**Your Task:**\n\n```{r, echo = FALSE, include = FALSE}\n# Load required packages\nlibrary(tidyverse)\nlibrary(tidycensus)\nlibrary(sf)\nlibrary(tigris)\nlibrary(scales)\nlibrary(patchwork)\nlibrary(RColorBrewer)\nlibrary(units)\nlibrary(knitr)\nlibrary(caret)\n\n# Set Census API key\ncensus_api_key(\"fe841b7ef0aa73d9579f0517bd1c8f26d33c789b\")\n\n# Get working directory\ngetwd()\n```\n\n```{r}\n# Load Data Axle Data\ndatadict <- read_csv(\"data/Data_Dict.csv\")\nhead(datadict)\n\nverified <- read_csv(\"data/Sharswood_Verified_Biz.csv\")\nverified\n\nunverified1 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified1\n\nunverified2 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified2\n\nunverified_combined <- bind_rows(unverified1, unverified2)\nglimpse(unverified_combined)\nwrite_csv(unverified_combined, \"data/Sharswood_Unverified_Biz_Combined.csv\")\n```\n\n```{r, results = 'hide'}\n# Load spatial data\ncensus_tracts <- tracts(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\", cb = TRUE, progress = FALSE)\nblock_grps <- block_groups(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\",cb = TRUE, progress = FALSE)\n\n# Standardize CRS\n```\n\n```{r}\n# Check that all data loaded correctly\nggplot(census_tracts) +\n  geom_sf() +\n  labs(title = \"Philadelphia Census Tracts\") +\n  theme_void()\n\nggplot(block_grps) +\n  geom_sf() +\n  labs(title = \"Philadelphia Block Groups\") +\n  theme_void()\n```\n\n--------------------------------------------------------------------------------\n\n#### Step 2: Get Philadelphia Demographic Data using `tidycensus`\n\n```{r, eval = FALSE}\n# Load all available variables for ACS 5-year 2022\nacs_vars_2022 <- load_variables(2022, \"acs5\", cache = TRUE)\n```\n\n```{r, results = 'hide'}\n# Helper Variables for Summing Population Values for Children aged 5-19\nchild_pop = c(\"B01001_004\", \"B01001_005\", \"B01001_006\", \"B01001_007\", \n                \"B01001_028\", \"B01001_029\", \"B01001_030\", \"B01001_031\")\n\n\n# Helper Variable for Summing Population Values for Elderly Population\nelderly_pop = c(\"B01001_020\", \"B01001_021\", \"B01001_022\", \"B01001_023\", \n                \"B01001_024\", \"B01001_025\", \n                \"B01001_044\", \"B01001_045\", \"B01001_046\", \n                \"B01001_047\", \"B01001_048\", \"B01001_049\")\n\n# Get tract-level demographic data from 2022 ACS 5-Yr Estimates for Philadelphia\nphl_tract_data <- get_acs(\n  geography = \"tract\",\n  variables = c(\n    total_pop = \"B01003_001\",\n    child_pop = child_pop,\n    elderly_pop = elderly_pop,\n    median_income = \"B19013_001\",\n    poverty = \"B17001_001\",\n    White     = \"B03002_003\",\n    Black     = \"B03002_004\",\n    Hispanic  = \"B03002_012\"\n  ),\n  state = \"PA\",\n  county = \"Philadelphia\",\n  year = 2022,\n  survey = \"acs5\",\n  output = \"wide\",\n  geometry = TRUE\n)\n\n# Clean the county names to remove state name and \"County\" \nphl_tract_clean <- phl_tract_data |> \n  separate(\n    NAME, \n    into = c(\"tract_name\", \"county_name\", \"state_name\"), \n    sep = \"; \"\n  ) |> \n  mutate(\n    tract_name = str_remove(tract_name, \"Census Tract \"),\n    county_name = str_remove(county_name, \" County\")\n  )\n\nphl_tract_summary <- phl_tract_clean |>\n  mutate(\n    elderly_popE = rowSums(across(matches(\"^elderly_pop\\\\d+E$\")), na.rm = TRUE),\n    # for MOE, ACS guidance is to combine by quadrature\n    elderly_popM = sqrt(rowSums(across(matches(\"^elderly_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_elderly = elderly_popE / total_popE,\n    child_popE = rowSums(across(matches(\"^child_pop\\\\d+E$\")), na.rm = TRUE),\n    child_popM = sqrt(rowSums(across(matches(\"^child_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_child = round((child_popE/total_popE) * 100, 2),\n  ) |>\n  select(GEOID, tract_name, county_name, total_popE, median_incomeE, elderly_popE, \n         elderly_popM, pct_elderly, child_popE, child_popM, pct_child)\n```\n\n```{r}\nhead(phl_tract_summary)\n```\n\n--------------------------------------------------------------------------------\n\n#### Step 3: Define Vulnerable Populations\n\n--------------------------------------------------------------------------------\n\n#### Step 4: Calculate Distance to Hospitals\n\n--------------------------------------------------------------------------------\n\n#### Step 5: Identify Underserved Areas\n\n--------------------------------------------------------------------------------\n\n#### Step 6: Create Summary Table\n\n--------------------------------------------------------------------------------\n\n## Part 2: Comprehensive Visualization\n\n```{r}\n\n```\n\n--------------------------------------------------------------------------------\n\n## Part 3: Open Data Philly\n\nChoose your own additional spatial dataset and conduct a supplementary analysis.\n\n**My Chosen Question: School Access and School Choice in City of Philadelphia**\n\n-   **Data**: Schools, Census Tracts (race/income demographics)\n    -   School Parcels: <https://opendataphilly.org/datasets/schools-parcels/> –\n        parcel location of schools in the City of Philadelphia with attribute\n        information for address, grade level, type, and status\n    -   Schools: <https://opendataphilly.org/datasets/schools/> – points\n        identifying public schools, charter schools, many private schools,\n        school annexes, and athletic fields and facilities\n-   **Question:** \"Is lack of school access associated with vulnerable\n    populations?\"\n-   **Operations:**\n    -   Clean datasets\n    -   Distance to nearest school\n    -   Buffer schools (10-minute walk = 0.5 mile)\n    -   Compare types and enrollment of schools by demographics\n","srcMarkdownNoYaml":"\n\n## Project Title: Mixed by Design – A Case Study of the Philadelphia Housing Authority's (PHA) Choice Neighborhoods Redevelopment of Sharswood\n\nFor my Urban Studies thesis, I am researching the PHA's Choice Neighborhoods\nredevelopment of the Sharswood neighborhood in North Philadelphia. I have two\nmain research questions about the process and outcome of this redevelopment:\n\n\\(1\\) the **process** by which the PHA aligned the politics, finance, and design\nfor the redevelopment of Sharswood; and \n\n\\(2\\) the early redevelopment **outcomes** relative to the Choice Neighborhoods\nInitiative (CNI) vision of mixed-partners, mixed-use, and mixed-income\n\n## Part 1: Raw Data from Data Axle\n\n**Data Axle Reference Solutions** (formerly ReferenceUSA and Infogroup) is a big\ndata, analytics, and marketing services provider that delivers best in class\ndata-driven, customer-centric technology solutions. It offers two main types of\ndata:\n\n-   **Residential Historic Data:** Analyze community growth and general\n    population differences.\n\n-   **Historic Business Data:** Analyze market trends, economic growth, or\n    specific industries. Access categories including Company Name, Geocodes,\n    SIC/NAICS codes, Census Tracts.\n\nI retrieved my raw data files from Data Axle through Penn Libraries and Wharton\nResearch and Data Services (WRDS) on October 15, 2025. The interface of Data\nAxle is shown below.\n\n![](images/clipboard-3282527950.png)\n\n### Record Types\n\n-   **Verified Records:** have been verified by DataAxle staff through various\n    compilation processes including phone validation\n\n-   **Unverified Records:** separate database from verified records because of\n    one of the following three reasons:\n\n    -   records appear within data sources but have yet to be fully verified\n\n    -   partial information is contained in the record, but not all data\n        elements are present to be considered 'verified' at the point of data\n        retrieval\n\n    -   addresses are unverified (e.g. a business may have moved)\n\n#### Step 1: Load Raw Data as csv files\n\n-   DataAxle's U.S. Businesses Data Dictionary\n\n-   Verified Businesses in Sharswood Neighborhood\n\n-   Unverified Businesses in Sharswood Neighborhood\n\n-   Philadelphia census tracts and neighborhood boundaries\n\n**Your Task:**\n\n```{r, echo = FALSE, include = FALSE}\n# Load required packages\nlibrary(tidyverse)\nlibrary(tidycensus)\nlibrary(sf)\nlibrary(tigris)\nlibrary(scales)\nlibrary(patchwork)\nlibrary(RColorBrewer)\nlibrary(units)\nlibrary(knitr)\nlibrary(caret)\n\n# Set Census API key\ncensus_api_key(\"fe841b7ef0aa73d9579f0517bd1c8f26d33c789b\")\n\n# Get working directory\ngetwd()\n```\n\n```{r}\n# Load Data Axle Data\ndatadict <- read_csv(\"data/Data_Dict.csv\")\nhead(datadict)\n\nverified <- read_csv(\"data/Sharswood_Verified_Biz.csv\")\nverified\n\nunverified1 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified1\n\nunverified2 <- read_csv(\"data/Sharswood_Unverified_Biz_Pg1to10.csv\")\nunverified2\n\nunverified_combined <- bind_rows(unverified1, unverified2)\nglimpse(unverified_combined)\nwrite_csv(unverified_combined, \"data/Sharswood_Unverified_Biz_Combined.csv\")\n```\n\n```{r, results = 'hide'}\n# Load spatial data\ncensus_tracts <- tracts(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\", cb = TRUE, progress = FALSE)\nblock_grps <- block_groups(state = \"PA\", county = \"Philadelphia\", year = 2020, class = \"sf\",cb = TRUE, progress = FALSE)\n\n# Standardize CRS\n```\n\n```{r}\n# Check that all data loaded correctly\nggplot(census_tracts) +\n  geom_sf() +\n  labs(title = \"Philadelphia Census Tracts\") +\n  theme_void()\n\nggplot(block_grps) +\n  geom_sf() +\n  labs(title = \"Philadelphia Block Groups\") +\n  theme_void()\n```\n\n--------------------------------------------------------------------------------\n\n#### Step 2: Get Philadelphia Demographic Data using `tidycensus`\n\n```{r, eval = FALSE}\n# Load all available variables for ACS 5-year 2022\nacs_vars_2022 <- load_variables(2022, \"acs5\", cache = TRUE)\n```\n\n```{r, results = 'hide'}\n# Helper Variables for Summing Population Values for Children aged 5-19\nchild_pop = c(\"B01001_004\", \"B01001_005\", \"B01001_006\", \"B01001_007\", \n                \"B01001_028\", \"B01001_029\", \"B01001_030\", \"B01001_031\")\n\n\n# Helper Variable for Summing Population Values for Elderly Population\nelderly_pop = c(\"B01001_020\", \"B01001_021\", \"B01001_022\", \"B01001_023\", \n                \"B01001_024\", \"B01001_025\", \n                \"B01001_044\", \"B01001_045\", \"B01001_046\", \n                \"B01001_047\", \"B01001_048\", \"B01001_049\")\n\n# Get tract-level demographic data from 2022 ACS 5-Yr Estimates for Philadelphia\nphl_tract_data <- get_acs(\n  geography = \"tract\",\n  variables = c(\n    total_pop = \"B01003_001\",\n    child_pop = child_pop,\n    elderly_pop = elderly_pop,\n    median_income = \"B19013_001\",\n    poverty = \"B17001_001\",\n    White     = \"B03002_003\",\n    Black     = \"B03002_004\",\n    Hispanic  = \"B03002_012\"\n  ),\n  state = \"PA\",\n  county = \"Philadelphia\",\n  year = 2022,\n  survey = \"acs5\",\n  output = \"wide\",\n  geometry = TRUE\n)\n\n# Clean the county names to remove state name and \"County\" \nphl_tract_clean <- phl_tract_data |> \n  separate(\n    NAME, \n    into = c(\"tract_name\", \"county_name\", \"state_name\"), \n    sep = \"; \"\n  ) |> \n  mutate(\n    tract_name = str_remove(tract_name, \"Census Tract \"),\n    county_name = str_remove(county_name, \" County\")\n  )\n\nphl_tract_summary <- phl_tract_clean |>\n  mutate(\n    elderly_popE = rowSums(across(matches(\"^elderly_pop\\\\d+E$\")), na.rm = TRUE),\n    # for MOE, ACS guidance is to combine by quadrature\n    elderly_popM = sqrt(rowSums(across(matches(\"^elderly_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_elderly = elderly_popE / total_popE,\n    child_popE = rowSums(across(matches(\"^child_pop\\\\d+E$\")), na.rm = TRUE),\n    child_popM = sqrt(rowSums(across(matches(\"^child_pop\\\\d+M$\"))^2, na.rm = \n                                  TRUE)),\n    pct_child = round((child_popE/total_popE) * 100, 2),\n  ) |>\n  select(GEOID, tract_name, county_name, total_popE, median_incomeE, elderly_popE, \n         elderly_popM, pct_elderly, child_popE, child_popM, pct_child)\n```\n\n```{r}\nhead(phl_tract_summary)\n```\n\n--------------------------------------------------------------------------------\n\n#### Step 3: Define Vulnerable Populations\n\n--------------------------------------------------------------------------------\n\n#### Step 4: Calculate Distance to Hospitals\n\n--------------------------------------------------------------------------------\n\n#### Step 5: Identify Underserved Areas\n\n--------------------------------------------------------------------------------\n\n#### Step 6: Create Summary Table\n\n--------------------------------------------------------------------------------\n\n## Part 2: Comprehensive Visualization\n\n```{r}\n\n```\n\n--------------------------------------------------------------------------------\n\n## Part 3: Open Data Philly\n\nChoose your own additional spatial dataset and conduct a supplementary analysis.\n\n**My Chosen Question: School Access and School Choice in City of Philadelphia**\n\n-   **Data**: Schools, Census Tracts (race/income demographics)\n    -   School Parcels: <https://opendataphilly.org/datasets/schools-parcels/> –\n        parcel location of schools in the City of Philadelphia with attribute\n        information for address, grade level, type, and status\n    -   Schools: <https://opendataphilly.org/datasets/schools/> – points\n        identifying public schools, charter schools, many private schools,\n        school annexes, and athletic fields and facilities\n-   **Question:** \"Is lack of school access associated with vulnerable\n    populations?\"\n-   **Operations:**\n    -   Clean datasets\n    -   Distance to nearest school\n    -   Buffer schools (10-minute walk = 0.5 mile)\n    -   Compare types and enrollment of schools by demographics\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"embed-resources":true,"output-file":"dataaxle.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.23","theme":"cosmo","title":"Data Axle - Businesses in Sharswood","subtitle":"URBS 4000: Urban Studies Thesis","author":"Jed Chew","date":"October 2025","editor":{"markdown":{"wrap":80}},"toc-location":"left"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}